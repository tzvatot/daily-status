---
layout: default
title: Daily Status - 2026-02-10
date: 2026-02-10
---

# Daily Status - 2026-02-10

## Accomplishments

- Executed parallel latency comparison experiment between AAP Direct and EDA providers (3 runs each in vmaas-dev namespace) - EDA showed 12.8% faster overall performance (232s vs 266s) driven by 35.3% faster deprovisioning (74.7s vs 115.3s), despite AAP having 4.2% faster provisioning (150.7s vs 157.3s)
- Created delete-during-provision test infrastructure: new script `test_delete_during_provision.sh` and playbook `test_compute_instance_delete_during_provision.yml` with provider-specific validation logic, faster polling intervals, and CR deletion scenario handling
- Fixed critical bug where cloudkit-operator was not updating CR's `status.provisionJob.state` field after canceling provision job via AAP API - controller saw correct state from API but never wrote it back to CR status (commit 2953ef1)
- Fixed second bug where provision job state only updated during waiting phase (DeprovisionWaiting) but not when deprovision triggered (DeprovisionTriggered) - external observers still saw "Running" even after deprovision started (commit b429e06)
- Fixed third bug where provision job message field showed stale "running" when state was "Canceled" - refactored provider interface to return full ProvisionStatus struct with both state and message fields (commit fbebb50)
- Validated complete fix with test run vm-qsfkl showing correct state transition from "Running" to "Canceled" with message "canceled" (not stale "running"), followed by successful deprovision and CR deletion with no orphaned resources
- Fixed playbook variable name collision where AAP and EDA deprovision tasks both registered to `deprovision_poll` causing skipped task to overwrite successful result - now use separate variables `aap_deprovision_poll` and `eda_deprovision_poll` (commit 4eedadb)
- Completed full end-to-end validation with test run vm-7wfkv confirming all six validations pass: provider detection, provision job cancellation, deprovision job startup, no duplicate jobs, CR deletion, and no orphaned VMs

## Risks & Challenges

- Fulfillment API connectivity issues encountered during testing (no route to host) causing infrastructure to intermittently block test execution

## Key Effort

Fixed critical cloudkit-operator bug series where provision job status (state and message) was not being updated in CR after cancellation, making job termination invisible to external observers.
