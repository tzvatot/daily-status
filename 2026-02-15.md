---
layout: default
title: Daily Status - 2026-02-15
date: 2026-02-15
---

# Daily Status - 2026-02-15

## Accomplishments
- Analyzed backward compatibility for jobs array migration in [MGMT-23031](https://issues.redhat.com/browse/MGMT-23031):
  - Verified `FindLatestJobByType` safely handles nil/empty jobs array
  - Identified risk: VMs in Progressing state may trigger duplicate provision jobs during migration
  - Identified risk: EDA VMs without AAP finalizer may skip deprovision cleanup
  - Confirmed safe scenarios: Ready VMs and normal deprovision flow work correctly
- Deployed public osac-operator (ghcr.io/osac-project/osac-operator:latest) to vmaas-dev cluster for migration testing
- Created comprehensive migration test script (`test_migration.sh`) covering 10 test phases:
  - Tests migration from public operator to custom image with jobs array
  - Validates update and deprovision flows with both EDA and AAP providers
  - Includes detailed polling output showing jobs array status transitions
- Discovered critical CRD incompatibility during test execution:
  - Public operator uses "Starting" phase (from upstream commit 4087fdb)
  - Feature branch CRD only supports old phases (Progressing, Ready, Failed, Deleting)
  - Root cause: feature branch diverged before [MGMT-22638](https://issues.redhat.com/browse/MGMT-22638) phase rename
- Successfully rebased feature branch from upstream/main to resolve incompatibility:
  - Updated phase states: Progressing → Starting, Ready → Running
  - Fixed provider code to use new `ComputeInstancePhaseRunning` constant
  - Updated unit tests and regenerated CRDs
  - All validation passed: 69 unit tests, 0 lint issues, container image built

## Risks & Challenges
- Migration from old to new operator may cause duplicate provisioning if VMs are in Progressing state during upgrade (mitigation: ensure VMs reach terminal state before migration)
- EDA-provisioned VMs without AAP finalizer may skip deprovision webhook calls (requires verification of finalizer presence in public image)

## Key Effort
Testing backward compatibility for jobs array migration in cloudkit-operator PR [#102](https://github.com/osac-project/osac-operator/pull/102) and resolving CRD schema incompatibility through feature branch rebase.
