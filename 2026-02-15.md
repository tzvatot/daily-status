---
layout: default
title: Daily Status - 2026-02-15
date: 2026-02-15
---

# Daily Status - 2026-02-15

## Accomplishments
- Analyzed backward compatibility for migration from public cloudkit-operator image (without jobs array) to new implementation (with jobs array) in [MGMT-23031](https://issues.redhat.com/browse/MGMT-23031)
- Identified safe migration scenarios (Ready VMs, deprovision) and risk scenarios (VMs in Progressing state, EDA VMs without AAP finalizer)
- Deployed public operator image (ghcr.io/osac-project/osac-operator:latest) to vmaas-dev for testing
- Created comprehensive migration test script (`test_migration.sh`) covering 10 phases: VM creation, migration, provider switching (EDA→AAP), and deprovision testing
- Discovered and resolved CRD schema incompatibility: public operator uses "Starting" phase, custom CRD only allowed "Progressing, Failed, Ready, Deleting"
- Rebased feature branch from upstream/main to incorporate new phase states ("Starting", "Running") from commit 4087fdb ([MGMT-22638](https://issues.redhat.com/browse/MGMT-22638))
- Updated AAP provider code for new phase states: ComputeInstancePhaseReady → ComputeInstancePhaseRunning
- Added 6 comprehensive test cases for provider switch scenarios (EDA provision jobs in various phases)
- Fixed all time.Now() calls to use UTC for timezone consistency (8 instances in aap_provider_test.go)
- Updated MEMORY.md with Go time handling best practices (always use time.Now().UTC())
- Increased test coverage from 59.8% to 75.8% in provisioning package
- Created and pushed PR #106: "Support provider switching from EDA to AAP during deprovision" (207 lines added across 3 files)

## Risks & Challenges
- Migration risk identified: VMs in Progressing state during migration may trigger duplicate provision jobs (requires pre-migration validation)
- EDA VMs without AAP finalizer may skip deprovision cleanup (needs verification before migration)

## Key Effort
Analyzing backward compatibility for jobs array migration, resolving CRD incompatibility through upstream rebase, and adding comprehensive test coverage for provider switching scenarios in [MGMT-23031](https://issues.redhat.com/browse/MGMT-23031).
