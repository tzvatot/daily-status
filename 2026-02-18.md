---
layout: default
title: Daily Status - 2026-02-18
date: 2026-02-18
---

# Daily Status - 2026-02-18

## Accomplishments

- Fixed failing unit tests in `computeinstance_feedback_controller_test.go`
  - Updated 2 test fixtures to use `newTestComputeInstanceSpec()` helper
  - Ensured all required fields (cores, image, memoryGiB, bootDisk, runStrategy) are properly set
- Corrected import paths across entire codebase (61 files)
  - Migrated from `github.com/osac/osac-operator` to `github.com/osac-project/osac-operator`
- All validations passing:
  - Compilation, formatting (go fmt), linter (golangci-lint): 0 issues
  - Unit tests: 42.7% controller coverage
  - Kustomize validation
  - Container build: `quay.io/etabak/cloudkit-operator:mgmt-23103-ca99608`
- Deployed operator to vmaas-dev cluster (image: `quay.io/etabak/cloudkit-operator:mgmt-23103-ca99608`)
- Pushed 9 commits to fork (20 total in branch)
- E2E testing on instance `e2e-test-api-fields-10003548`:
  - ✅ Provision phase: ComputeInstance created with explicit API fields, provision job 16063 succeeded
  - ✅ RunStrategy mutation tests: Halted (VM stopped) and Always (VM restarted) both successful
  - ✅ Immutability validation: cores, memoryGiB, and image field patches rejected
  - ❌ Deprovision phase: Job 16067 failed (no detailed logs available - job expired)
- Addressed PR review feedback from Adrien:
  - Removed `syncRunStrategy()` controller logic (59 lines deleted)
  - Removed direct VirtualMachine patching from controller
  - Templates now handle VirtualMachine state changes, not controller
  - All unit tests pass (43.1% coverage), linter clean
  - Commit `32ca27e`: "Remove syncRunStrategy() controller logic per PR review"
- Pull Request: https://github.com/osac-project/osac-operator/pull/111
- Related work: [MGMT-23103](https://issues.redhat.com/browse/MGMT-23103), Enhancement Proposal: https://github.com/osac-project/enhancement-proposals/pull/21

## Risks & Challenges

- **BLOCKED**: Cannot complete rebase of PR #111 due to module path mismatch in main branch
  - Main branch uses `github.com/osac/osac-operator`, should be `github.com/osac-project/osac-operator`
  - Blocked by PR #112 (module path fix) - must be merged first
  - Linter fails with typecheck errors after rebase
- Deprovision playbook may need updates to handle new parameter structure
  - Unknown why deprovision job 16067 fails - need AAP logs to diagnose
  - Test instance `e2e-test-api-fields-10003548` stuck (blocking deletion by design)
  - Next steps: Delete stuck instance, rerun E2E test with log capture, investigate AAP playbook

## Key Effort

Completed implementation and unit testing of ComputeInstance API enhancement ([MGMT-23103](https://issues.redhat.com/browse/MGMT-23103)). Deployed to vmaas-dev and verified provision, runStrategy mutations, and immutability enforcement. Addressed PR review feedback by removing direct VM manipulation. Blocked on PR #112 merge for module path fix before rebasing.
