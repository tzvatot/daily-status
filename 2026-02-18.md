---
layout: default
title: Daily Status - 2026-02-18
date: 2026-02-18
---

# Daily Status - 2026-02-18

## Accomplishments

**[MGMT-23103](https://issues.redhat.com/browse/MGMT-23103) ComputeInstance API Enhancement - E2E Testing & Validation**
- Fixed failing unit tests in `computeinstance_feedback_controller_test.go` - updated 2 test fixtures to use `newTestComputeInstanceSpec()` helper with all required fields
- Corrected import paths across entire codebase (61 files) from `github.com/osac/osac-operator` to `github.com/osac-project/osac-operator`
- All validations passing: compilation, formatting (go fmt), linter (0 issues), unit tests (42.7% controller coverage), kustomize validation, container build
- Deployed operator to vmaas-dev cluster with image `quay.io/etabak/cloudkit-operator:mgmt-23103-ca99608` - rollout completed successfully
- Pushed 9 commits to fork (20 total in branch)
- E2E testing partial success on instance `e2e-test-api-fields-10003548`:
  - ✅ Provision phase: ComputeInstance created with explicit API fields, provision job 16063 succeeded, template parameters generated correctly, instance reached Running phase
  - ✅ RunStrategy mutation tests: runStrategy=Halted stopped VM successfully, runStrategy=Always restarted VM successfully
  - ✅ Immutability validation tests: cores, memoryGiB, and image field patches all rejected correctly
  - ❌ Deprovision phase: job 16067 failed (no detailed logs available - job expired), blocking deletion as designed
- Addressed PR review feedback from Adrien - removed `syncRunStrategy()` controller logic (59 lines deleted) that was directly patching VirtualMachine objects
- New behavior: runStrategy remains mutable in ComputeInstance spec, spec changes auto-trigger provision jobs via FNV-1a hash detection, templates handle VirtualMachine state instead of controller
- Validation after review changes: all unit tests pass (43.1% coverage), linter pass (0 issues), compilation successful
- Created PR [#111](https://github.com/osac-project/osac-operator/pull/111) and [enhancement proposal #21](https://github.com/osac-project/enhancement-proposals/pull/21)

## Risks & Challenges

- **BLOCKED**: Cannot complete rebase of PR #111 due to incorrect module path in main branch (`github.com/osac/osac-operator` should be `github.com/osac-project/osac-operator`) - waiting for PR #112 merge
- Deprovision failure root cause unknown - need to capture AAP job logs during next test run to investigate AAP playbook issue
- E2E test cannot complete until deprovision issue resolved
- Test instance `e2e-test-api-fields-10003548` stuck due to failed deprovision

## Key Effort

Completed full implementation and unit testing of ComputeInstance API enhancement with backward compatibility layer, deployed to vmaas-dev and verified provision/mutation/immutability enforcement, addressed PR review feedback by removing direct VM manipulation logic, currently blocked on module path fix PR #112 before rebase and investigating deprovision failure.
