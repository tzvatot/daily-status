---
layout: default
title: Daily Status - 2026-02-18
date: 2026-02-18
---

# Daily Status - 2026-02-18

## Accomplishments

- Fixed failing unit tests in `computeinstance_feedback_controller_test.go` — updated 2 test fixtures to use `newTestComputeInstanceSpec()` helper ensuring all required fields are properly set
- Corrected import paths across entire codebase (61 files) — migrated from `github.com/osac/osac-operator` to `github.com/osac-project/osac-operator`
- All validations passing: compilation, formatting (go fmt), linter (golangci-lint: 0 issues), unit tests (42.7% controller coverage), kustomize validation, and container build
- Deployed operator to vmaas-dev cluster — pushed 9 commits to fork (20 total in branch), rollout completed successfully
- E2E testing partially successful for [MGMT-23103](https://issues.redhat.com/browse/MGMT-23103):
  - Provision phase succeeded — ComputeInstance created with explicit API fields, provision job succeeded, instance reached Running phase
  - RunStrategy mutation tests passed — Halted stopped VM, Always restarted VM
  - Immutability validation tests passed — cores, memoryGiB, and image fields correctly rejected patch attempts
  - Deprovision phase failed — job failed with no detailed logs available (job expired), likely AAP playbook issue rather than operator code
- Addressed Adrien's PR review feedback — removed `syncRunStrategy()` controller logic (59 lines deleted), removed direct VirtualMachine patching from controller so templates handle VM state instead
- Created template PR for osac-templates (PR #6) adding runStrategy support and explicit API fields support with fallback to templateParameters
- Completed rebase of PR #111 on upstream/main after PR #112 (module rename) merged — resolved conflicts in 5 test files, fixed all import paths and type aliases, force-pushed to fork
- Redeployed to vmaas-dev with rebased code — fixed `CLOUDKIT_*` → `OSAC_*` env var rename, pod running successfully

## Risks & Challenges

- Deprovision job failure blocks full E2E lifecycle validation — need AAP logs to diagnose root cause
- Template PR #6 has outstanding review feedback from Adrien (use `default_arg_specs`, rename `vm_disk_size` → `vm_boot_disk_size`, use `runStrategy` directly instead of running boolean, add missing spec fields for additionalDisks/userDataSecretRef/sshKey)
- Deprovision playbook may need updates to handle new parameter structure

## Key Effort

Completed full implementation, unit testing, and deployment of the [MGMT-23103](https://issues.redhat.com/browse/MGMT-23103) ComputeInstance API enhancement, verified provision and mutation flows via E2E testing, and addressed PR review feedback — currently blocked on deprovision failure investigation and template PR review items.
