---
layout: default
title: Daily Status - 2026-02-18
date: 2026-02-18
---

# Daily Status - 2026-02-18

## Accomplishments

- Fixed failing unit tests in `computeinstance_feedback_controller_test.go`
  - Updated 2 test fixtures to use `newTestComputeInstanceSpec()` helper
  - Ensures all required fields (cores, image, memoryGiB, bootDisk, runStrategy) are properly set
- Corrected import paths across entire codebase (61 files)
  - Migrated from `github.com/osac/osac-operator` to `github.com/osac-project/osac-operator`
- All validations passing:
  - Compilation, formatting (go fmt), linter (golangci-lint): 0 issues
  - Unit tests: 42.7% controller coverage
  - Kustomize validation
  - Container build: `quay.io/etabak/cloudkit-operator:mgmt-23103-ca99608`
- Deployed operator to vmaas-dev cluster with 9 commits pushed to fork (20 total in branch)
- E2E testing for [MGMT-23103](https://issues.redhat.com/browse/MGMT-23103) completed successfully for provision phase:
  - ComputeInstance created with explicit API fields (test instance: `e2e-test-api-fields-10003548`)
  - Provision job 16063 succeeded
  - Template parameters generated correctly via `ensureBackwardCompatibility()`
  - ComputeInstance reached Running phase
- Verified runStrategy mutation tests:
  - runStrategy=Halted: VM stopped successfully
  - runStrategy=Always: VM restarted successfully
- Validated immutability enforcement:
  - cores, memoryGiB, and image field patches correctly rejected
- Addressed PR review feedback from Adrien:
  - Removed `syncRunStrategy()` controller logic (59 lines deleted)
  - Removed direct VirtualMachine patching from controller
  - runStrategy now handled via provision jobs and templates
  - Commit `32ca27e` pushed with these changes

## Risks & Challenges

- Deprovision job 16067 failed for test instance (AAP job expired, no detailed logs available)
- Cannot complete rebase of PR #111 due to module path mismatch in main branch
  - Main branch uses `github.com/osac/osac-operator` but repository is at `github.com/osac-project/osac-operator`
  - Blocked by PR #112 (module path fix) which must be merged first
- Need to capture AAP job logs during next test run to diagnose deprovision failure

## Key Effort

Completed full implementation and unit testing of [MGMT-23103](https://issues.redhat.com/browse/MGMT-23103) ComputeInstance API enhancement, deployed to vmaas-dev, and verified provision, runStrategy mutations, and immutability enforcement; investigating deprovision failure and blocked on PR #112 merge for module path fix.
