---
layout: default
title: Daily Status - 2026-02-17
date: 2026-02-17
---

# Daily Status - 2026-02-17

## Accomplishments
- Completed [MGMT-23103](https://issues.redhat.com/browse/MGMT-23103) ComputeInstance API Enhancement implementation
  - Added explicit field types (ImageSpec, DiskSpec, RunStrategyType) replacing JSON-encoded templateParameters
  - Implemented immutability validation via CEL XValidation rules for all fields except runStrategy
  - Created backward compatibility layer mapping new fields to legacy template parameter names
  - Implemented runStrategy controller logic for VM stop/start operations
  - Created comprehensive unit tests (84/84 passing) and E2E test playbooks
  - Verified live deployment on vmaas-dev cluster with successful VM provisioning
  - Tested immutability enforcement (cores, memoryGiB, image rejected on patch)
  - Tested runStrategy mutability (Always ↔ Halted transitions working correctly)
  - Created PR: https://github.com/osac-project/osac-operator/pull/111 (4 commits)
  - Enhancement Proposal: https://github.com/osac-project/enhancement-proposals/pull/21

- Completed Jobs Array Extension implementation for ClusterOrder and HostPool resources
  - Extended jobs array pattern from ComputeInstance to ClusterOrder and HostPool for consistency
  - Created shared job helpers package (internal/helpers/job_helpers.go) reducing code duplication by ~150 lines
  - Extended AAP provider with extractClusterOrderVars() and extractHostPoolVars()
  - Fixed critical EDA provider bug: extended from 2 to 6 webhook URLs (2 per resource type)
  - Implemented hybrid approach for ClusterOrder (job tracking + HC watching)
  - Replaced fire-and-forget webhooks for HostPool with job polling for reliability
  - Updated all three reconcilers (ComputeInstance, ClusterOrder, HostPool) with shared provider instance
  - Rebased on upstream/main, resolved import path conflicts (innabox/cloudkit-operator → osac/osac-operator)
  - All validations passing (compilation, linting, unit tests, container build)
  - Created draft PR: https://github.com/osac-project/osac-operator/pull/110 (3 commits)
  - Plan document: merry-stargazing-graham.md

## Risks & Challenges
- ComputeInstance Phase field doesn't reflect stopped state when runStrategy=Halted (VM correctly shows "Stopped" but ComputeInstance remains "Running" - cosmetic issue, future improvement)
- Jobs array E2E tests for ClusterOrder/HostPool not yet implemented (operator implementation complete, testing pending)

## Key Effort
Delivered two major operator enhancements: explicit typed API fields for ComputeInstance ([MGMT-23103](https://issues.redhat.com/browse/MGMT-23103)) with backward compatibility and jobs array extension to ClusterOrder/HostPool for consistent provisioning patterns.
