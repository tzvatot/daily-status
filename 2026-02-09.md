---
layout: default
title: Daily Status - 2026-02-09
date: 2026-02-09
---

# Daily Status - 2026-02-09

## Accomplishments
- Completed provider abstraction refactoring - eliminated all `switch r.ProvisioningProvider.Name()` statements from controller by implementing rich result types (`ProvisionResult`, `DeprovisionResult`) and adding `BlockDeletionOnFailure` field to CRD ([MGMT-22880](https://issues.redhat.com/browse/MGMT-22880))
- Fixed EDA deletion infinite polling bug by adding `resource client.Object` parameter to status methods, allowing EDA provider to detect completion via AAP finalizer removal while maintaining provider abstraction ([MGMT-22880](https://issues.redhat.com/browse/MGMT-22880))
- Fixed vmaas-dev environment webhook configuration - corrected ComputeInstance webhook URLs from non-existent `innabox-eda-service:5000` to `innabox-aap-eda-api:8000`, enabling latency experiments to complete successfully
- Discovered and validated 4.3x EDA performance improvement (649s â†’ ~140s provision time) through controlled testing with both custom and official operator images, ruling out operator code changes as cause
- Clarified EDA webhook architecture - documented dynamic service pattern (`innabox-eda-service:5000` lifecycle tied to activation jobs) vs static API service (`innabox-aap-eda-api:8000` for VM webhooks)
- Deployed refactored operator builds (`quay.io/etabak/cloudkit-operator:74ced2e`, `96423b5`) and validated end-to-end ComputeInstance lifecycle with test script
- All 90+ unit tests passing, zero linter issues, CRDs regenerated, commits `74ced2e` and `96423b5` pushed to feature branch

## Risks & Challenges
- **CRITICAL:** AAP Direct missing ReconciledConfigVersion update - provider doesn't set ReconciledConfigVersion when provision job succeeds, breaking spec change detection (workaround currently reading annotation from old EDA playbook)
- **Mystery:** Need to investigate what changed in AAP/EDA infrastructure between Feb 8-9 that caused 4.3x performance speedup (external to operator code)
- Need to update PR #102 with provider abstraction refactoring commits and address code review feedback
- Upstream deployment manifests may contain incorrect webhook URLs requiring investigation and fixes

## Key Effort
Provider abstraction refactoring to eliminate controller type switching and fix EDA deletion workflow
