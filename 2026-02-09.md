---
layout: default
title: Daily Status - 2026-02-09
date: 2026-02-09
---

# Daily Status - 2026-02-09

## Accomplishments
- Completed provider abstraction refactoring for [MGMT-22880](https://issues.redhat.com/browse/MGMT-22880) - eliminated all `switch r.ProvisioningProvider.Name()` statements from controller by implementing richer result types (`ProvisionResult`, `DeprovisionResult`) and adding `BlockDeletionOnFailure` field to CRD
- Fixed EDA deletion infinite polling bug - enhanced provider interface to pass resource object to status methods, allowing EDA provider to detect completion via AAP finalizer removal without breaking abstraction
- Fixed vmaas-dev environment webhook configuration - corrected cloudkit-operator deployment to use existing `innabox-aap-eda-api:8000` service instead of non-existent `innabox-eda-service:5000`
- Successfully validated full ComputeInstance lifecycle with end-to-end test script (`~/work/scripts/test_compute_instance.sh`) - creation, verification, and deletion all working correctly
- All quality checks passing - 90+ unit tests passing, zero linter issues, CRDs regenerated, code formatted
- Deployed and validated two operator builds: `quay.io/etabak/cloudkit-operator:74ced2e` (refactoring) and `quay.io/etabak/cloudkit-operator:96423b5` (bug fix)

## Risks & Challenges
- **CRITICAL:** AAP Direct missing ReconciledConfigVersion update - AAP Direct provider doesn't set ReconciledConfigVersion when provision job succeeds, preventing controller from detecting spec changes vs already-reconciled state (currently works due to workaround reading annotation set by old EDA playbook)
- Need to investigate upstream deployment manifests to fix source of incorrect webhook URLs in vmaas-dev environment

## Key Effort
Achieved complete provider abstraction by eliminating all provider type switches from controller and moving provider-specific logic into provider implementations with crash-safe deletion policies.
