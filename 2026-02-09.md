---
layout: default
title: Daily Status - 2026-02-09
date: 2026-02-09
---

# Daily Status - 2026-02-09

## Accomplishments
- Completed provider abstraction refactoring ([MGMT-22880](https://issues.redhat.com/browse/MGMT-22880)) - eliminated all provider type switches from controller, added BlockDeletionOnFailure field to CRD, created rich result types (ProvisionResult, DeprovisionResult), all 90+ tests passing with zero linter issues
- Fixed EDA deletion infinite polling bug - added resource parameter to status methods allowing EDA provider to check finalizer state for completion detection, maintaining clean abstraction without controller changes
- Fixed EDA webhook configuration in vmaas-dev namespace - corrected deployment environment variables from non-existent `innabox-eda-service:5000` to working `innabox-aap-eda-api:8000`, cleaned up stuck VMs and processes
- Improved latency experiment script reliability - updated provider verification to check pod environment variables directly instead of relying on potentially stale logs
- Deployed and validated fixes: `quay.io/etabak/cloudkit-operator:74ced2e` (refactoring) and `quay.io/etabak/cloudkit-operator:96423b5` (EDA fix)
- Created end-to-end test script and successfully validated full ComputeInstance lifecycle (creation, verification, deletion completion)

## Risks & Challenges
- **CRITICAL:** AAP Direct missing ReconciledConfigVersion update - AAP Direct doesn't set ReconciledConfigVersion when provision job succeeds, preventing controller from detecting spec changes vs already reconciled state. Fix needed in `internal/provisioning/aap_provider.go:178` getJobStatus() to populate ReconciledVersion field when State=Succeeded
- Need to investigate upstream deployment manifests to fix source of bad webhook URLs and prevent recurrence

## Key Effort
Eliminated all provider type switches from controller through clean abstraction architecture using rich result types and CRD changes, maintaining provider-agnostic controller code
