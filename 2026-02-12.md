---
layout: default
title: Daily Status - 2026-02-12
date: 2026-02-12
---

# Daily Status - 2026-02-12

## Accomplishments

- Completed status.jobs[] array refactoring implementation ([MGMT-23031](https://issues.redhat.com/browse/MGMT-23031))
  - API changes: Added JobType/JobState enums, refactored JobStatus struct, replaced ProvisionJob/DeprovisionJob with Jobs[] array
  - Infrastructure: Added configurable CLOUDKIT_MAX_JOB_HISTORY (default 10)
  - Controller: Implemented helper functions (FindLatestJobByType, appendJob, updateJob, findJobByID) with full unit test coverage
  - AAP provider: Updated to use jobs array pattern
  - EDA provider: Implemented generateEDAJobID() function for unique eda-webhook-N IDs
  - All 69 unit tests passing, linter clean, coverage increased to 66.1%
- Deployed to vmaas-dev cluster (image: quay.io/etabak/cloudkit-operator:9bd2073)
  - Applied updated CRD with jobs array schema
  - Verified operator running correctly with MaxJobHistory=10
- Updated osac-test-infra to use jobs array (commit a4c0262)
  - Converted all kubectl jsonpath queries to jq with jobs array filtering
  - Query pattern: filter by type, sort by timestamp, get latest
  - Tested with both EDA and AAP providers
- Integration testing completed successfully
  - EDA provider: Job IDs eda-webhook-1, eda-webhook-2 (incremental generation working)
  - AAP provider: Job IDs 9076, 9079 (real Ansible Controller IDs)
  - Full job state tracking: Pending → Running → Succeeded
  - UTC timestamps throughout
- Performance testing completed (3 parallel runs per provider, 6 VMs total)
  - AAP Direct: 130s provision avg, 82s deprovision avg, 212s total avg
  - EDA: 147.7s provision avg, 83.7s deprovision avg, 231.3s total avg
  - AAP 8.4% faster overall, no performance degradation from jobs array
- Delete-during-provision scenario tested successfully
  - Provision job canceled before deprovision starts
  - Single deprovision job (no duplicates)
  - Jobs array tracked all state transitions correctly
  - No orphaned VMs

## Risks & Challenges

None

## Key Effort

Implementing and validating status.jobs[] array refactoring across controller and providers with comprehensive testing
